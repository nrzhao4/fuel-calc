(this["webpackJsonpfuel-calc"]=this["webpackJsonpfuel-calc"]||[]).push([[0],{57:function(e,t,a){e.exports=a(89)},62:function(e,t,a){},77:function(e,t){},79:function(e,t){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(56),s=a.n(o),l=a(13),c=a(22),r=a(3),u=a(4),h=a(6),m=a(5),d=a(1),p=a(7),f=(a(62),a(14).parseString),v=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={years:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://www.fueleconomy.gov/ws/rest/vehicle/menu/year").then((function(e){return e.text()})).then((function(t){f(t,(function(t,a){var n=a.menuItems.menuItem.map((function(e){return{value:e.value[0],display:e.value[0]}}));e.setState({years:[{value:"",display:"Select Year"}].concat(n)})}))}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("select",{className:"dropdown",value:this.state.value,onChange:this.props.onChangeHandler},this.state.years.map((function(e){return i.a.createElement("option",{key:e.value,value:e.value},e.display)}))))}}]),t}(i.a.Component),y=a(14).parseString,b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={makes:[],year:a.props.info.year},a.fetchData=a.fetchData.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"fetchData",value:function(){var e=this,t=this.state.year,a="https://www.fueleconomy.gov/ws/rest/vehicle/menu/make?year=".concat(t);fetch(a).then((function(e){return e.text()})).then((function(t){y(t,(function(t,a){var n=a.menuItems.menuItem.map((function(e){return{value:e.value[0],display:e.value[0]}}));e.setState({makes:[{value:"",display:"Select make"}].concat(n)})}))}))}},{key:"componentDidMount",value:function(){""!==this.state.year&&this.fetchData()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.info.year!==e.info.year&&this.setState({makes:[],year:this.props.info.year},(function(){t.fetchData()}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("select",{className:"dropdown",value:this.state.value,onChange:this.props.onChangeHandler},this.state.makes.map((function(e){return i.a.createElement("option",{key:e.value,value:e.value},e.display)}))))}}]),t}(i.a.Component),k=a(14).parseString,C=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={models:[],year:a.props.info.year,make:a.props.info.make},a.fetchData=a.fetchData.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"fetchData",value:function(){var e=this,t=this.state.year,a=this.state.make,n="https://www.fueleconomy.gov/ws/rest/vehicle/menu/model?year=".concat(t,"&make=").concat(a);fetch(n).then((function(e){return e.text()})).then((function(t){k(t,(function(t,a){var n=a.menuItems.menuItem.map((function(e){return{value:e.value[0],display:e.value[0]}}));e.setState({models:[{value:"",display:"Select model"}].concat(n)})}))}))}},{key:"componentDidMount",value:function(){""!==this.state.make&&this.fetchData()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.info.make!==e.info.make&&this.setState({models:[],year:this.props.info.year,make:this.props.info.make},(function(){t.fetchData()}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("select",{className:"dropdown",value:this.state.value,onChange:this.props.onChangeHandler},this.state.models.map((function(e){return i.a.createElement("option",{key:e.value,value:e.value},e.display)}))))}}]),t}(i.a.Component),g=a(14).parseString,O=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={options:[],year:a.props.info.year,make:a.props.info.make,model:a.props.info.model},a.fetchData=a.fetchData.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"fetchData",value:function(){var e=this,t=this.state.year,a=this.state.make,n=this.state.model,i="https://www.fueleconomy.gov/ws/rest/vehicle/menu/options?year=".concat(t,"&make=").concat(a,"&model=").concat(n);fetch(i).then((function(e){return e.text()})).then((function(t){g(t,(function(t,a){var n=a.menuItems.menuItem.map((function(e){return{value:e.value[0],display:e.text[0]}}));e.setState({options:[{value:"",display:"Select option"}].concat(n)})}))}))}},{key:"componentDidMount",value:function(){""!==this.state.model&&this.fetchData()}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.info.model!==e.info.model&&this.setState({options:[],year:this.props.info.year,make:this.props.info.make,model:this.props.info.model},(function(){t.fetchData()}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("select",{className:"dropdown",value:this.state.value,onChange:this.props.onChangeHandler},""!==this.state.options&&this.state.options.map((function(e){return i.a.createElement("option",{key:e.value,value:e.value},e.display)})),""===this.state.options&&i.a.createElement("option",{value:""},"N/A")))}}]),t}(i.a.Component),j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={year:"",make:"",model:"",vehicleId:""},a.onChangeYear=a.onChangeYear.bind(Object(d.a)(a)),a.onChangeMake=a.onChangeMake.bind(Object(d.a)(a)),a.onChangeModel=a.onChangeModel.bind(Object(d.a)(a)),a.onChangeOption=a.onChangeOption.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"onChangeYear",value:function(e){var t=e.target.value;this.setState((function(e){return{year:t,make:"",model:"",vehicleId:""}}))}},{key:"onChangeMake",value:function(e){var t=e.target.value;this.setState((function(e){return{make:t,model:"",vehicleId:""}}))}},{key:"onChangeModel",value:function(e){var t=e.target.value;this.setState((function(e){return{model:t,vehicleId:""}}))}},{key:"onChangeOption",value:function(e){var t=e.target.value;this.setState((function(e){return{vehicleId:t}}));var a=this.state.year+" "+this.state.make+" "+this.state.model;this.props.onCarSelected(this.props.id,a,t)}},{key:"render",value:function(){return i.a.createElement("div",{className:"select-car"},i.a.createElement("h1",null,"Car ",this.props.id),i.a.createElement("div",{className:"flexbox"},i.a.createElement("label",null,"Year: "),i.a.createElement(v,{info:this.state,onChangeHandler:this.onChangeYear})),i.a.createElement("div",{className:"flexbox"},i.a.createElement("label",null,"Make: "),""!==this.state.year&&i.a.createElement(b,{info:this.state,onChangeHandler:this.onChangeMake})),i.a.createElement("div",{className:"flexbox"},i.a.createElement("label",null,"Model: "),""!==this.state.make&&i.a.createElement(C,{info:this.state,onChangeHandler:this.onChangeModel})),i.a.createElement("div",{className:"flexbox"},i.a.createElement("label",null,"Option: "),""!==this.state.model&&i.a.createElement(O,{info:this.state,onChangeHandler:this.onChangeOption})))}}]),t}(i.a.Component),E=a(14).parseString,S=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(h.a)(this,Object(m.a)(t).call(this))).state={results:[]},e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(e){var t=this;this.props.cars.map((function(e){fetch("https://www.fueleconomy.gov/ws/rest/ympg/shared/ympgVehicle/".concat(e.id)).then((function(e){return e.text()})).then((function(a){E(a,(function(a,n){if(null===n)t.calculate(e,null);else{var i=n.yourMpgVehicle.avgMpg[0];t.calculate(e,i)}}))}))}))}},{key:"calculate",value:function(e,t){var a,n=this.props.info.distance,i=this.props.info.isUnitsMiles;null!==t?"0"===i?(a=1.60934*t/3.78541*n,a=Math.floor(a),this.setState((function(t){return{results:[].concat(Object(l.a)(t.results),[{id:e.id,name:e.name,estimatedGasConsumption:a+" L "}])}}))):(a=n*t,a=Math.floor(a),this.setState((function(t){return{results:[].concat(Object(l.a)(t.results),[{id:e.id,name:e.name,estimatedGasConsumption:a+" gal. "}])}}))):this.setState((function(t){return{results:[].concat(Object(l.a)(t.results),[{id:e.id,name:e.name,estimatedGasConsumption:null}])}}))}},{key:"render",value:function(){var e=this.state.results.map((function(e){return null===e.estimatedGasConsumption?i.a.createElement("h3",{key:e.id},"Sorry, there is no fuel economy data for ",e.name):i.a.createElement("h3",{key:e.id},"The ",e.name," will use ",e.estimatedGasConsumption,"of fuel")}));return i.a.createElement("div",{className:"results"},this.state.mpgs!==[]&&e,i.a.createElement("p",{style:{fontSize:"12px"}},"*Results displayed are estimated based on data provided by ",i.a.createElement("a",{href:"https://www.fueleconomy.gov/"},"fueleconomy.gov")))}}]),t}(i.a.Component);var w=function(e){return i.a.createElement("div",null,i.a.createElement("button",{className:"button-primary",onClick:e.onClickDone},"Done"))};var D=function(e){return i.a.createElement("div",null,i.a.createElement("button",{className:"button-secondary",onClick:e.onClickReset},"Reset"))},M=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={distance:"",isUnitsMiles:"0"},a.handleDistance=a.handleDistance.bind(Object(d.a)(a)),a.onSelectUnit=a.onSelectUnit.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleDistance",value:function(e){var t=this;this.setState({distance:e.target.value},(function(){t.props.onMileageInput(t.state.distance,t.state.isUnitsMiles,t.state.percentHwy)}))}},{key:"onSelectUnit",value:function(e){var t=this;this.setState({isUnitsMiles:e.target.value},(function(){t.props.onMileageInput(t.state.distance,t.state.isUnitsMiles,t.state.percentHwy)}))}},{key:"render",value:function(){var e={width:this.state.distance.length<1?"36px":12*this.state.distance.length+"px"};return i.a.createElement("div",{className:"flexbox2"},i.a.createElement("div",{className:"flexbox"},i.a.createElement("label",null,"Distance to drive: "),i.a.createElement("input",{type:"text",style:e,value:this.state.distance,onChange:this.handleDistance}),i.a.createElement("div",null,i.a.createElement("select",{className:"dropdown",value:this.state.isUnitsMiles,onChange:this.onSelectUnit},i.a.createElement("option",{value:"0"},"km"),i.a.createElement("option",{value:"1"},"mi")))))}}]),t}(i.a.Component),x=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(h.a)(this,Object(m.a)(t).call(this))).state={showResult:!1,toCompare:[],calculationInfo:null},e.onClickDone=e.onClickDone.bind(Object(d.a)(e)),e.onClickReset=e.onClickReset.bind(Object(d.a)(e)),e.onCarSelected=e.onCarSelected.bind(Object(d.a)(e)),e.onMileageInput=e.onMileageInput.bind(Object(d.a)(e)),e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){document.title="Fuel Calc"}},{key:"onClickDone",value:function(){this.state.toCompare.length<1?alert("Select at least one car"):null===this.state.calculationInfo?alert("Please enter driving distance"):isNaN(this.state.calculationInfo.distance)?alert("Driving distance must be a numerical value"):this.state.showResult||this.setState((function(e){return Object(c.a)({},e,{showResult:!0})}))}},{key:"onClickReset",value:function(){window.location.reload()}},{key:"onCarSelected",value:function(e,t,a){this.setState((function(n){return Object(c.a)({},n,{toCompare:[].concat(Object(l.a)(n.toCompare),[{car:e,name:t,id:a}])})}))}},{key:"onMileageInput",value:function(e,t){this.setState((function(a){return Object(c.a)({},a,{calculationInfo:{distance:e,isUnitsMiles:t}})}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"flexbox"},i.a.createElement(j,{key:"1",id:"1",onCarSelected:this.onCarSelected}),i.a.createElement(j,{key:"2",id:"2",onCarSelected:this.onCarSelected})),i.a.createElement(M,{onMileageInput:this.onMileageInput}),this.state.showResult&&i.a.createElement(S,{cars:this.state.toCompare,info:this.state.calculationInfo}),i.a.createElement("div",{className:"flexbox"},!this.state.showResult&&i.a.createElement(w,{onClickDone:this.onClickDone}),i.a.createElement(D,{onClickReset:this.onClickReset})))}}]),t}(i.a.Component);s.a.render(i.a.createElement(x,null),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.244f364d.chunk.js.map